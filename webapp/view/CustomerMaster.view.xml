<mvc:View
    controllerName="com.ifb.invoicegenerator.controller.CustomerMaster"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
>
    <Page title="Customer List" showNavButton="true" navButtonPress=".onNavBack"
    class="sapUiContentPadding sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer">
        <subHeader>
            <Bar id="headerBarCustomer">
                <contentMiddle>
                    <SearchField
                        id="searchFieldCustomer"
                        tooltip="Search Customer"
                        width="100%"
                        search="onSearchCustomer"
                    />
                    <core:Icon
                        src="sap-icon://download"
                        class="sapUiTinyMarginEnd"
                        color="#8875E7"
                        press="onCustomerExport"
                    >
                        <core:layoutData>
                            <FlexItemData growFactor="1" />
                        </core:layoutData>
                    </core:Icon>
                </contentMiddle>
            </Bar>
        </subHeader>
        <List
            id="customerList"
            items="{path : 'CustomerModel>/'}"
            busyIndicatorDelay="{masterView>/delay}"
            noDataText="{masterView>/noDataText}"
            mode="{= ${device>/system/phone} ? 'None' : 'SingleSelectMaster'}"
            growing="true"
            growingThreshold="10"
            growingScrollToLoad="true"
            updateFinished="onCustomerUpdateFinished"
            selectionChange="onSelectionChange"
            itemPress="onListItemPress"
        >
            <items>
                <ObjectListItem
                    intro="{CustomerModel>branchcode}"
                    title="{CustomerModel>branchname}"
                    type="Active"
                >
                    <attributes>
                        <ObjectAttribute
                            title="Region"
                            text="{CustomerModel>regiondesc} ({CustomerModel>regioncode})"
                            active="false"
                            visible="true"
                        />
                    </attributes>
                    <firstStatus>
                        <!-- title="{i18n>createdOn}" -->
                        <ObjectStatus
                            text="{path:'CustomerModel>isactive',formatter: '.formatter.getUserStatus'}"
                            state="{path:'CustomerModel>isactive',formatter: '.formatter.getUserStatusState'}"
                            icon="{path:'CustomerModel>isactive',formatter: '.formatter.getUserStatusIcon'}"
                        />
                    </firstStatus>
                </ObjectListItem>
            </items>
        </List>
    </Page>
</mvc:View>
