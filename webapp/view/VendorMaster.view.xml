<mvc:View
    controllerName="com.ifb.invoicegenerator.controller.VendorMaster"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
>
    <Page title="Franchisee List">
        <subHeader>
            <Bar id="headerBarVendor">
                <contentMiddle>
                    <SearchField
                        id="searchFieldVendor"
                        tooltip="Search Vendor"
                        width="100%"
                        search="onSearchVendor"
                    />
                    <core:Icon
                        src="sap-icon://download"
                        class="sapUiTinyMarginEnd"
                        color="#8875E7"
                        press="onVendorExport"
                    >
                        <core:layoutData>
                            <FlexItemData growFactor="1" />
                        </core:layoutData>
                    </core:Icon>
                </contentMiddle>
            </Bar>
        </subHeader>
        <List
            id="vendorList"
            items="{path : 'VendorModel>/'}"
            busyIndicatorDelay="{masterView>/delay}"
            noDataText="{masterView>/noDataText}"
            mode="{= ${device>/system/phone} ? 'None' : 'SingleSelectMaster'}"
            growing="true"
            growingThreshold="10"
            growingScrollToLoad="true"
            updateFinished="onVendorUpdateFinished"
            selectionChange="onSelectionChange"
            itemPress="onListItemPress"
        >
            <items>
                <ObjectListItem
                    intro="{VendorModel>vendorcode}"
                    title="{VendorModel>vendorname}"
                    type="Active"
                >
                    <attributes>
                        <ObjectAttribute
                            title="Region Code"
                            text="{VendorModel>regioncode}"
                            active="false"
                            visible="true"
                        />
                        <ObjectAttribute
                            title="Effective Date"
                            text="{VendorModel>effectivedate}"
                            active="false"
                            visible="true"
                        />
                    </attributes>
                    <firstStatus>
                        <!-- title="{i18n>createdOn}" -->
                        <ObjectStatus
                            text="{path:'VendorModel>isActive',formatter: '.formatter.getUserStatus'}"
                            state="{path:'VendorModel>isActive',formatter: '.formatter.getUserStatusState'}"
                            icon="{path:'VendorModel>isActive',formatter: '.formatter.getUserStatusIcon'}"
                        />
                    </firstStatus>
                    <secondStatus />
                </ObjectListItem>
            </items>
        </List>
    </Page>
</mvc:View>
